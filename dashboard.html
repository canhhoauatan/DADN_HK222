<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Latuce</title>
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="style.css">
	<link rel="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" href="style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>

<body>
	<div class="container">
		<div class="leftBlock">
			<p style="	font-style: normal;
						font-weight: 700;
						font-size: 45px;
						text-align: center;
						color: #00C164;">Latuce.</p>

			<a style="margin-top: 10%;" href="#" class="button button1">
				<i style="font-size: 28px; position: absolute; left: 50px;" class="fa fa-th-large"></i>
				Tổng quan</a>
			<a style="margin-top: -15%;" href="control.html" class="button button1 button2">
				<i style="font-size: 28px; position: absolute; left: 50px; transform: rotate(90deg);"
					class="fa fa-sliders"></i>
				Điều khiển</a>
		</div>
		<div class="rightBlock">
			<div class="navbar">
				<p style="margin-left: 80px; font-size: 25px; font-style: normal;
						font-weight: 700;
						font-size: 28px;
						line-height: 39px;
						text-align: center;
						color: #3B3B3B;">Tổng quan</p>
				<div
					style="display: flex; flex-direction: row; justify-content: space-between; width: 40%; margin: 5%;">
					<i style="left: 60%; position: relative; font-size: 24px;" class="fa fa-bell"></i>

					<div class="register">
						<a style="color: #00C164; text-decoration: none;" href="index.html">Đăng xuất</a>
					</div>
				</div>
			</div>

			<div class="pie">
				<div class="piece">
					<img style="width: 65px; height: 65px; position: absolute; left: 10%; top: 24%;" src="image/sun.png"
						alt="asdas">
					<p id="light-value" style="font-style: normal;
								font-weight: 700;
								font-size: 36px;
								line-height: 48px;
								position: absolute;
								left: 40%;
								top: -10%;
								color: #000000;">85%</p>
					<p style="font-style: normal;
								font-weight: 500;
								font-size: 18px;
								line-height: 24px;
								position: absolute;
								left: 40%;
								top: 45%;
								color: #9C9C9C;">Độ sáng</p>
				</div>

				<div class="piece">
					<img style="width: 65px; height: 65px; position: absolute; left: 10%; top: 24%;"
						src="image/temp.png" alt="asdas">
					<p id="temp-value" style="font-style: normal;
								font-weight: 700;
								font-size: 36px;
								line-height: 48px;
								position: absolute;
								left: 40%;
								top: -10%;
								color: #000000;">30°C</p>
					<p style="font-style: normal;
								font-weight: 500;
								font-size: 18px;
								line-height: 24px;
								position: absolute;
								left: 40%;
								top: 45%;
								color: #9C9C9C;">Nhiệt độ</p>
				</div>

				<div class="piece">
					<img style="width: 65px; height: 65px; position: absolute; left: 10%; top: 24%;" src="image/ph.png"
						alt="asdas">
					<p id="ph-value" style="font-style: normal;
								font-weight: 700;
								font-size: 36px;
								line-height: 48px;
								position: absolute;
								left: 40%;
								top: -10%;
								color: #000000;">5pH</p>
					<p style="font-style: normal;
								font-weight: 500;
								font-size: 18px;
								line-height: 24px;
								position: absolute;
								left: 40%;
								top: 45%;
								color: #9C9C9C;">Độ pH</p>
				</div>
			</div>




		</div>
	</div>
</body>
<script>
	$('document').ready(function () {
		setInterval(getTempData()); //request every x seconds
		setInterval(getLightData());
		setInterval(getPHData());
	});

	function getTempData() {
		$.ajax({
			url: 'get_data.php?data=temp',
			type: "POST",
			async: true,
			success: function (response) {
				var data_rcv = JSON.parse(JSON.parse(response))
				document.getElementById("temp-value").innerHTML = data_rcv.value + "°C"
				console.log(data_rcv.value)
			}
		});

		setTimeout(getTempData, 5000); //ms, for automatic updating function
	}

	function getLightData() {
		$.ajax({
			url: 'get_data.php?data=light',
			type: "POST",
			async: true,
			success: function (response) {
				var data_rcv = JSON.parse(JSON.parse(response))
				document.getElementById("light-value").innerHTML = data_rcv.value + "%"
				console.log(data_rcv.value)
			}
		});

		setTimeout(getLightData, 5000); //ms, for automatic updating function
	}

	function getPHData() {
		$.ajax({
			url: 'get_data.php?data=ph',
			type: "POST",
			async: true,
			success: function (response) {
				var data_rcv = JSON.parse(JSON.parse(response))
				document.getElementById("ph-value").innerHTML = data_rcv.value + "pH"
				console.log(data_rcv.value)
			}
		});

		setTimeout(getPHData, 5000); //ms, for automatic updating function
	}
</script>

</html>